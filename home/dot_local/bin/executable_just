#!/usr/bin/env bash
set -eo pipefail

_just() {
  local version="1.13.0"
  local name="just"
  local prog="$HOME/.cargo/bin/just"
  if [ ! -x "$prog" ] || [[ "$("$prog" --version)" != *"$version"* ]]; then
    cargo install --version "$version" "$name"
  fi

  exec "$prog" "$@"
}

_just "$@"
