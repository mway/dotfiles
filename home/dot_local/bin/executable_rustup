#!/usr/bin/env bash
set -eo pipefail

_fn() {
  readonly prog="$HOME/.cargo/bin/rustup"
  if [ ! -x "$prog" ]; then
    curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | \
      sh -- -y --no-modify-path
  fi

  exec "$prog" "$@"
}

_fn "$@"
